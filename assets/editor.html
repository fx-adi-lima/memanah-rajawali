<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Local Editor</title>
	<link rel="stylesheet" href="styles/w3.css">
	<style type="text/css" media="screen">
            #editor { 
		position: relative !important; 
		margin: auto; 
		border: 1px solid lightgray; 
		width: 99%; 
		height: 1000px; 
	    }
	</style>
    </head>
    <body>
	<div class="w3-bar w3-white">
	    <a href="index.html" class="w3-bar-item w3-btn w3-black">Home</a>
	    <button type="button" class="w3-button w3-bar-item w3-black" onclick='doMarkdown()'>Preview</button>
	</div>
        <div class="w3-row-padding">
	    <div class="w3-col m6 l6">
	        <div class="w3-container w3-padding-32" id="editor"></div>
	    </div>
	    <div class="w3-col m6 l6">
	        <div class="w3-container" id="preview"></div>
	    </div>
        </div>
	<script src="ace/ace.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
        <script src="modules/highlight.min.js"></script>
	<script>
	    var editor = ace.edit("editor", {
			    mode: "ace/mode/markdown",
			    theme: "ace/theme/github"
			});
	    if (typeof(Personal) !== 'undefined') {
		let strTest = Personal.loadMarkdown("intro.md");
	        editor.setValue(strTest);
	    }
	    else {
	        editor.setValue("Personal object is **undefined**.");
	    }

	    function doMarkdown() {
		let result = marked.parse(editor.getValue(), { gfm: true });
		document.getElementById('preview').innerHTML = result;
	    }
	</script>
    </body>
</html>

